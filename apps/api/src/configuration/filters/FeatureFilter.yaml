name: FeatureFilter
mode: merge_all_winners
rules:
  - keys:
      - effect_layer
      - hangtagging
      - manual_backscore
      - pack_set_amount
      - perforation
      - variable_data
    conditions:
      conditions: []
    
  - keys:
      - backpaper_print
    conditions:
      relationMode: and
      conditions:
        - relationMode: and
          conditions:
            - attribute: item.attributes.material
              operator: in
              value:
                - white
                - holographic,
                - mirror
                - clear
                - pixie_dust
            - attribute: item.attributes.laminate
              operator: in
              value:
                - glossy_uv
                - soft_touch,
                - satin_matte
            - attribute: item.productName
              operator: not_in
              value:
                - library_design
        - relationMode: and
          conditions:
            - attribute: item.attributes.width_mm
              operator: <=
              value: 270
            - attribute: item.attributes.height_mm
              operator: <=
              value: 270

  - keys:
      - backpaper_print
    conditions:
      relationMode: and
      conditions:
        - attribute: item.attributes.material
          operator: is_empty
        - attribute: item.attributes.laminate
          operator: is_empty

  - keys:
      - transfer_tape
    conditions:
      relationMode: and
      conditions:
        - attribute: item.attributes.delivery_sheet_width
          operator: <=
          value: 1130
        - attribute: item.attributes.delivery_sheet_height
          operator: <=
          value: 1130